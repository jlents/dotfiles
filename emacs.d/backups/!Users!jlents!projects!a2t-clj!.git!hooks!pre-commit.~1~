#!/bin/sh

##   LIST OF DIRECTORIES OMITTED FOR TRAILING WHITESPACE INSPECTION
#    anything in .git directory
#    anything in target directory
#    anything in bower_components
#    anything in resources/ingest-files
#    anything in resources/certs
#    anything in an img directory
#    anything in an npm directory

##   LIST OF FILE EXTENSIONS OMITTED FOR TRAILING WHITESPACE INSPECTION
#    .pptx
#    .png
#    .jpeg

for FILE in `find . -type f -not -path "./.git/*" -not -path "./target/*" -not -path "*/bower_components/*" -not -path "*/resources/ingest-files/*" -not -path "*/resources/certs/*" -not -path "*/img/*" -not -path "*/npm/*" -not -path "*.pptx" -not -path "*.png" -not -path ".jpeg" -exec egrep -l " +$" {} \;`
do
    perl -p -i -e 's/\s+$/\n/' $FILE
    git add "$FILE"
done
